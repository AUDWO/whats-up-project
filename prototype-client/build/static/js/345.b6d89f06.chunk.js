"use strict";(self.webpackChunkprototype_client=self.webpackChunkprototype_client||[]).push([[345],{885:function(n,t,e){e.d(t,{Z:function(){return j}});var o,r,i,c,a,s=e(4165),p=e(5861),d=e(2791),l=e(1243),u=e(9422),x=e(168),m=e(5867),Z=e(8820),h=e(7425),f=(0,m.ZP)(Z.SV5)(o||(o=(0,x.Z)(["\n  color: red;\n  margin-right: 3px;\n"]))),g=(0,m.ZP)(h.qy0)(r||(r=(0,x.Z)(["\n  margin-right: 3px;\n"]))),v=((0,m.ZP)(Z.$iz)(i||(i=(0,x.Z)(["\n  margin-right: 3px;\n"]))),m.ZP.div(c||(c=(0,x.Z)(["\n  position: absolute;\n  right: ",";\n  left: ",";\n  bottom: ",";\n  top: ",";\n  width: 100px;\n  height: 60px;\n  border-radius: 10px;\n  border: none;\n  background-color: white;\n"])),(function(n){return n.right}),(function(n){return n.left}),(function(n){return n.bottom}),(function(n){return n.top}))),y=m.ZP.div(a||(a=(0,x.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 14px;\n  height: 30px;\n  cursor: pointer;\n"]))),b=e(9247),P=e(8930),k=e(184),j=function(n){var t,e,o=n.contentType,r=n.commentId,i=n.commentType,c=n.contentId,a=n.commentIdOfReplyComment,x=n.offset,m=(0,u.Zl)((0,b.Z)("".concat(o,"CommentConfigModal").concat(r))),Z=(0,d.useRef)(null);(0,d.useEffect)((function(){var n=function(n){var t;null!==(t=Z.current)&&void 0!==t&&t.contains(n.target)||m(!1)};return document.addEventListener("click",n),function(){document.removeEventListener("click",n)}}),[]);var h="comment"===i?"".concat(o,"Comments-").concat(c):"replyComment"===i?["".concat(o,"ReplyComments-").concat(a)]:void 0,j=(0,P.Z)((function(){return(t=t||(0,p.Z)((0,s.Z)().mark((function n(){return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,l.Z.delete("/delete/".concat(o,"-comment/").concat(r));case 3:return n.abrupt("return",n.sent);case 6:n.prev=6,n.t0=n.catch(0),console.error(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))).apply(this,arguments)}),h,(function(){m(!1)})),w=j.mutate,C=x.top,z=x.left,I=x.right,L=x.bottom;return(0,k.jsxs)(v,{ref:Z,bottom:L,top:C,right:I,left:z,children:[(0,k.jsxs)(y,{onClick:function(){!function(){(e=e||(0,p.Z)((0,s.Z)().mark((function n(){return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:try{w()}catch(t){console.error("Delete action failed",t)}case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}()},children:[(0,k.jsx)(g,{}),"\uc0ad\uc81c"]}),(0,k.jsxs)(y,{onClick:function(){m(!1)},children:[(0,k.jsx)(f,{}),"\ucde8\uc18c"]})]})}},3345:function(n,t,e){e.r(t),e.d(t,{default:function(){return At}});var o,r,i,c,a,s,p,d,l,u,x,m,Z,h,f,g,v,y,b,P,k,j,w,C,z,I,L,R,F,S,q,E,M,T,V,O,_,K,U,$,D,G,H,B,J,X,A,N,Q,W,Y,nn,tn,en,on,rn,cn,an,sn,pn,dn,ln,un,xn,mn,Zn,hn,fn,gn,vn,yn,bn,Pn,kn,jn,wn,Cn=e(4165),zn=e(5861),In=e(9439),Ln=e(2791),Rn=e(1243),Fn=e(9422),Sn=e(150),qn=e(168),En=e(5867),Mn=e(8820),Tn=En.ZP.div(o||(o=(0,qn.Z)(["\n  height: 470px;\n  overflow-y: scroll;\n"]))),Vn=En.ZP.div(r||(r=(0,qn.Z)(["\n  box-shadow: 0px 1px 4px rgba(0, 0, 0, 0.2);\n  background-color: #f8f9fa;\n  border-radius: 0px 10px 10px 0px;\n  z-index: 3;\n  width: 380px;\n  height: 585px;\n  position: absolute;\n  transition: all 0.3s ease-in-out;\n  transform: ",";\n"])),(function(n){return n.click?"translate3d(300px, 0, 0)":"translate3d(0, 0, 0)"})),On=(0,En.ZP)(Mn.oHP)(i||(i=(0,qn.Z)(["\n  font-size: 25px;\n  font-weight: 100;\n  cursor: pointer;\n"]))),_n=En.ZP.div(c||(c=(0,qn.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 0px 10px 0px 10px;\n  height: 50px;\n"]))),Kn=En.ZP.div(a||(a=(0,qn.Z)(["\n  font-size: 20px;\n  font-weight: 700;\n"]))),Un=(En.ZP.div(s||(s=(0,qn.Z)(["\n  width: 100%;\n  min-height: 120px;\n  height: auto;\n  padding: 10px;\n  margin-bottom: 10px;\n"]))),En.ZP.div(p||(p=(0,qn.Z)(["\n  padding: 5px 5px 5px 13px;\n  height: 60px;\n  width: 100%;\n  display: flex;\n  align-items: center;\n"])))),$n=En.ZP.input(d||(d=(0,qn.Z)(["\n  font-size: 15px;\n  background-color: #f8f9fa;\n  height: 40px;\n  width: 80%;\n  resize: none;\n  outline: none;\n  border: none;\n  border-bottom: 2px solid black;\n  place\n"]))),Dn=En.ZP.button(l||(l=(0,qn.Z)(["\n  width: 20%;\n  height: 40px;\n  border-bottom: 2px solid black;\n  color: ",";\n  place\n\n"])),(function(n){return n.comment?"black":"#c7c7c8"})),Gn=e(9129),Hn=e(3479),Bn=e(8014),Jn=e(7692),Xn=e(3524),An=(En.ZP.div(u||(u=(0,qn.Z)(["\n  width: 100%;\n  height: auto;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: center;\n  background-color: #f8f9fa;\n"]))),En.ZP.div(x||(x=(0,qn.Z)(["\n  display: flex;\n  flex-direction: column;\n  width: 700px;\n  height: auto;\n  margin-top: 50px;\n"]))),En.ZP.div(m||(m=(0,qn.Z)(["\n  width: 100%;\n  font-size: 20px;\n  font-weight: 500;\n  border: none;\n  margin-bottom: 20px;\n"]))),En.ZP.div(Z||(Z=(0,qn.Z)(["\n  display: flex;\n  align-items: center;\n  padding: 10px;\n  width: 100%;\n  height: 55px;\n  font-size: 20px;\n  border: none;\n  border-radius: 8px;\n  background-color: #e8e8e8;\n"]))),(0,En.ZP)(Jn.n2B)(h||(h=(0,qn.Z)(["\n  font-size: 25px;\n  margin-right: 20px;\n"]))),En.ZP.textarea(f||(f=(0,qn.Z)(["\n  width: 600px;\n  height: 30px;\n  font-size: 20px;\n  vertical-align: center;\n  outline: none;\n  border: none;\n  resize: none;\n  border-radius: 8px;\n  background-color: #e8e8e8;\n"]))),En.ZP.div(g||(g=(0,qn.Z)(["\n  font-size: 15px;\n  color: ",";\n  cursor: pointer;\n"])),(function(n){return n.comment?"black":"#c7c7c8"})),En.ZP.div(v||(v=(0,qn.Z)(["\n  display: flex;\n  width: 100%;\n  min-height: 120px;\n  height: auto;\n  padding: 25px 0px 10px 15px;\n  border-bottom: 0.5px solid black;\n"]))),En.ZP.div(y||(y=(0,qn.Z)(["\n  width: 50px;\n  height: 50px;\n  margin-right: 10px;\n"]))),En.ZP.div(b||(b=(0,qn.Z)(["\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n  background-color: black;\n  margin-right: 20px;\n"]))),En.ZP.div(P||(P=(0,qn.Z)(["\n  width: 100%;\n"])))),Nn=(En.ZP.div(k||(k=(0,qn.Z)(["\n  display: flex;\n"]))),En.ZP.div(j||(j=(0,qn.Z)(["\n  display: flex;\n  justify-content: space-between;\n  position: relative;\n"]))),En.ZP.div(w||(w=(0,qn.Z)(["\n  font-size: 15px;\n  font-weight: 700;\n  margin-bottom: 10px;\n  margin-right: 6px;\n"]))),(0,En.ZP)(Xn.Ds6)(C||(C=(0,qn.Z)(["\n  font-size: 30px;\n  color: gray;\n  &:hover {\n    color: black;\n  }\n  cursor: pointer;\n"]))),En.ZP.div(z||(z=(0,qn.Z)(["\n  height: auto;\n  line-height: 1.5;\n"]))),En.ZP.div(I||(I=(0,qn.Z)(["\n  display: flex;\n  align-items: center;\n  margin-top: 20px;\n  margin-bottom: 10px;\n"]))),(0,En.ZP)(Gn.iHj)(L||(L=(0,qn.Z)(["\n  margin-right: 20px;\n  font-size: 25px;\n  cursor: pointer;\n"]))),En.ZP.div(R||(R=(0,qn.Z)(["\n  cursor: pointer;\n"]))),En.ZP.div(F||(F=(0,qn.Z)(["\n  width: 100%;\n  height: 100px;\n"]))),(0,En.ZP)(Hn.k$G)(S||(S=(0,qn.Z)(["\n  color: #f7dd07;\n"]))),(0,En.ZP)(Bn.ifV)(q||(q=(0,qn.Z)(["\n  font-size: 46px;\n  color: #f7dd07;\n  border-radius: 50%;\n  border: 1px solid white;\n  background-color: black;\n"]))),e(9126)),Qn=e(7425),Wn=(0,En.ZP)(Jn.G_S)(E||(E=(0,qn.Z)(["\n  margin-right: 5px;\n"]))),Yn=En.ZP.div(M||(M=(0,qn.Z)(["\n  display: flex;\n  "," {\n    transform: ",";\n  }\n  color: #236bd8;\n  margin-top: 7px;\n  margin-bottom: 7px;\n  &:hover {\n    border-radius: 15px;\n    background-color: #c5d5f5;\n  }\n  width: 70px;\n  padding: 5px 10px;\n  cursor: pointer;\n"])),Wn,(function(n){return n.moreReplyOpen?"rotate(180deg)":"rotate(0deg)"})),nt=En.ZP.div(T||(T=(0,qn.Z)([""]))),tt=(0,En.ZP)(An)(V||(V=(0,qn.Z)(["\n  margin: 10px;\n  width: 360px;\n"]))),et=(0,En.ZP)(Mn.lo)(O||(O=(0,qn.Z)(["\n  cursor: pointer;\n"]))),ot=(0,En.ZP)(Mn.M_L)(_||(_=(0,qn.Z)(["\n  cursor: pointer;\n  color: #f7dd07;\n"]))),rt=En.ZP.div(K||(K=(0,qn.Z)(["\n  display: flex;\n  height: auto;\n"]))),it=En.ZP.img(U||(U=(0,qn.Z)(["\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n  background-color: black;\n  margin-right: 15px;\n  object-fit: cover;\n"]))),ct=En.ZP.div($||($=(0,qn.Z)(["\n  width: 300px;\n  height: auto;\n  display: flex;\n  flex-direction: column;\n"]))),at=En.ZP.div(D||(D=(0,qn.Z)(["\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n"]))),st=En.ZP.div(G||(G=(0,qn.Z)(["\n  font-size: 13px;\n  margin-bottom: 5px;\n"]))),pt=En.ZP.div(H||(H=(0,qn.Z)(["\n  min-height: 30px;\n  height: auto;\n  margin-bottom: 10px;\n"]))),dt=En.ZP.div(B||(B=(0,qn.Z)(["\n  display: flex;\n  width: 20px;\n"]))),lt=En.ZP.div(J||(J=(0,qn.Z)(["\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 15px;\n  position: relative;\n"]))),ut=En.ZP.div(X||(X=(0,qn.Z)(["\n  display: flex;\n"]))),xt=En.ZP.div(A||(A=(0,qn.Z)(["\n  font-size: 13px;\n  margin-right: 15px;\n"]))),mt=(0,En.ZP)(Nn.evw)(N||(N=(0,qn.Z)(["\n  cursor: pointer;\n"]))),Zt=((0,En.ZP)(Mn.SV5)(Q||(Q=(0,qn.Z)(["\n  color: red;\n  margin-right: 3px;\n"]))),(0,En.ZP)(Qn.qy0)(W||(W=(0,qn.Z)(["\n  margin-right: 3px;\n"]))),En.ZP.div(Y||(Y=(0,qn.Z)(["\n  position: absolute;\n  bottom: -10px;\n  right: -10px;\n  width: 100px;\n  height: 90px;\n  border-radius: 10px;\n  border: none;\n  background-color: white;\n"]))),En.ZP.div(nn||(nn=(0,qn.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 14px;\n  height: 30px;\n  cursor: pointer;\n"]))),En.ZP.button(tn||(tn=(0,qn.Z)(["\n  font-size: 13px;\n"])))),ht=(0,En.ZP)(Nn.evw)(en||(en=(0,qn.Z)(["\n  cursor: pointer;\n"]))),ft=(0,En.ZP)(An)(on||(on=(0,qn.Z)(["\n  margin-top: 10px;\n"]))),gt=(0,En.ZP)(Mn.lo)(rn||(rn=(0,qn.Z)([""]))),vt=(0,En.ZP)(Mn.M_L)(cn||(cn=(0,qn.Z)(["\n  color: #f7dd07;\n"]))),yt=En.ZP.div(an||(an=(0,qn.Z)(["\n  display: flex;\n  height: auto;\n"]))),bt=En.ZP.img(sn||(sn=(0,qn.Z)(["\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n  background-color: black;\n  margin-right: 15px;\n"]))),Pt=En.ZP.div(pn||(pn=(0,qn.Z)(["\n  width: 250px;\n  height: auto;\n  display: flex;\n  flex-direction: column;\n"]))),kt=En.ZP.div(dn||(dn=(0,qn.Z)(["\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n"]))),jt=En.ZP.div(ln||(ln=(0,qn.Z)(["\n  font-size: 13px;\n  margin-bottom: 5px;\n"]))),wt=En.ZP.div(un||(un=(0,qn.Z)(["\n  min-height: 20px;\n  height: auto;\n  margin-bottom: 10px;\n  margin-top: 5px;\n"]))),Ct=En.ZP.div(xn||(xn=(0,qn.Z)(["\n  display: flex;\n  width: 20px;\n"]))),zt=En.ZP.div(mn||(mn=(0,qn.Z)(["\n  display: flex;\n  margin-bottom: 15px;\n  position: relative;\n"]))),It=En.ZP.div(Zn||(Zn=(0,qn.Z)(["\n  font-size: 13px;\n  margin-right: 15px;\n"]))),Lt=(En.ZP.button(hn||(hn=(0,qn.Z)(["\n  font-size: 13px;\n"]))),e(885)),Rt=e(9247),Ft=e(8930),St=e(184),qt=function(n){var t,e,o,r=n.replyComment,i=n.commentId,c=(0,Ln.useState)(0),a=(0,In.Z)(c,2),s=a[0],p=a[1],d=(0,Ln.useState)(!1),l=(0,In.Z)(d,2),u=l[0],x=l[1],m=(0,Sn.a)({queryKey:["replyComments-".concat(r.id)],queryFn:function(){return(t=t||(0,zn.Z)((0,Cn.Z)().mark((function n(){return(0,Cn.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Rn.Z.get("\n        /page/render-only-postcomment-likeinfo/".concat(r.id,"\n        "));case 3:return n.abrupt("return",n.sent);case 6:n.prev=6,n.t0=n.catch(0),console.error(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))).apply(this,arguments)}}),Z=m.data,h=m.isLoading;(0,Ln.useEffect)((function(){p(null===Z||void 0===Z?void 0:Z.data.postCommentLikeCount.length),x(null===Z||void 0===Z?void 0:Z.data.likeCheck)}),[null===Z||void 0===Z?void 0:Z.data]);var f=(0,Fn.FV)((0,Rt.Z)("postCommentConfigModal".concat(r.id))),g=(0,In.Z)(f,2),v=g[0],y=g[1],b=(0,Ft.Z)((function(){return(e=e||(0,zn.Z)((0,Cn.Z)().mark((function n(){return(0,Cn.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Rn.Z.post("/comment/post/like/".concat(r.id));case 3:return n.abrupt("return",n.sent);case 6:n.prev=6,n.t0=n.catch(0),console.error(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))).apply(this,arguments)}),["postReplyComments-".concat(i)]),P=b.mutate,k=b.isLoading,j=(0,Ft.Z)((function(){return(o=o||(0,zn.Z)((0,Cn.Z)().mark((function n(){return(0,Cn.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Rn.Z.post("/comment/post/unlike/".concat(r.id));case 3:return n.abrupt("return",n.sent);case 6:n.prev=6,n.t0=n.catch(0),console.error(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))).apply(this,arguments)}),["postReplyComments-".concat(i)]),w=j.mutate,C=j.isLoading,z=(0,Ln.useMemo)((function(){return{bottom:"-10px",right:"-10px"}}),[]);return h||k||C?(0,St.jsx)(ft,{index:1,children:(0,St.jsxs)(yt,{children:[(0,St.jsx)(Et,{}),(0,St.jsxs)(Pt,{children:[(0,St.jsx)(kt,{children:(0,St.jsx)(Mt,{})}),(0,St.jsx)(wt,{children:(0,St.jsx)(Tt,{})}),(0,St.jsx)(zt,{children:(0,St.jsx)(Mt,{})})]})]})}):(0,St.jsx)(ft,{index:1,children:(0,St.jsxs)(yt,{children:[(0,St.jsx)(bt,{}),(0,St.jsxs)(Pt,{children:[(0,St.jsxs)(kt,{children:[(0,St.jsx)(jt,{children:r.User.nickname}),(0,St.jsx)(Ct,{children:u?(0,St.jsx)(vt,{onClick:function(){p((function(n){return n-1})),x(!1),w()}}):(0,St.jsx)(gt,{onClick:function(){p((function(n){return n+1})),x(!0),P()}})})]}),(0,St.jsx)(wt,{children:r.content}),(0,St.jsxs)(zt,{children:[(0,St.jsxs)(It,{children:["\uc88b\uc544\uc694 ",s]}),(0,St.jsxs)(St.Fragment,{children:[(0,St.jsx)(ht,{onClick:function(){setTimeout((function(){y(!0)}),0)}}),v&&(0,St.jsx)(Lt.Z,{contentType:"post",commentId:r.id,commentIdOfReplyComment:i,commentType:"replyComment",offset:z})]})]})]})]})})},Et=En.ZP.img(fn||(fn=(0,qn.Z)(["\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n  background-color: gray;\n  opacity: 0.4;\n  margin-right: 15px;\n"]))),Mt=En.ZP.div(gn||(gn=(0,qn.Z)(["\n  font-size: 13px;\n  margin-bottom: 5px;\n  background-color: gray;\n  opacity: 0.4;\n  width: 87px;\n  height: 15px;\n"]))),Tt=En.ZP.div(vn||(vn=(0,qn.Z)(["\n  font-size: 13px;\n  background-color: gray;\n  opacity: 0.4;\n  width: 77px;\n  height: 15px;\n"]))),Vt=e(4775),Ot=function(n){var t=n.postCommentLikeCount,e=n.myComment,o=n.comment,r=(0,Fn.FV)((0,Rt.Z)("postCommentConfigModal".concat(o.id))),i=(0,In.Z)(r,2),c=i[0],a=i[1],s=(0,Fn.FV)((0,Rt.Z)("replyComment".concat(o.id))),p=(0,In.Z)(s,2),d=p[0],l=p[1];return(0,St.jsxs)(lt,{children:[(0,St.jsxs)(ut,{children:[(0,St.jsxs)(xt,{children:["\uc88b\uc544\uc694 ",t]}),(0,St.jsx)(Zt,{onClick:function(){return l(!d)},children:"\ub2f5\uae00 \ub2ec\uae30"})]}),e&&(0,St.jsxs)(St.Fragment,{children:[(0,St.jsx)(mt,{onClick:function(n){n.stopPropagation(),a(!0)}}),c&&(0,St.jsx)(Lt.Z,{contentType:"post",commentId:o.id,commentType:"comment",contentId:o.PostId,offset:{bottom:"-10px",right:"-10px"}})]})]})},_t=En.ZP.div(yn||(yn=(0,qn.Z)(["\n  border-bottom: 1px solid black;\n  display: flex;\n"]))),Kt=En.ZP.input(bn||(bn=(0,qn.Z)(["\n  width: 80%;\n  border: none;\n  background-color: #f8f9fa;\n  margin-top: 10px;\n  margin-bottom: 5px;\n  font-size: 15px;\n"]))),Ut=En.ZP.div(Pn||(Pn=(0,qn.Z)(["\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  width: 80px;\n"]))),$t=En.ZP.div(kn||(kn=(0,qn.Z)(["\n  font-size: 13px;\n  cursor: pointer;\n  color: gray;\n  $:hover {\n    color: black;\n  }\n"]))),Dt=En.ZP.div(jn||(jn=(0,qn.Z)(["\n  font-size: 13px;\n  cursor: pointer;\n  color: gray;\n  $:hover {\n    color: black;\n  }\n"]))),Gt=function(n){var t,e=n.comment,o=(0,Ln.useState)(""),r=(0,In.Z)(o,2),i=r[0],c=r[1],a=(0,Fn.Zl)((0,Rt.Z)("replyComment".concat(e.id))),s=(0,Ft.Z)((function(){return(t=t||(0,zn.Z)((0,Cn.Z)().mark((function n(){var t;return(0,Cn.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Rn.Z.post("/comment/post",{content:i,PostId:e.PostId,PostCommentId:e.id});case 3:return t=n.sent,n.abrupt("return",t);case 7:n.prev=7,n.t0=n.catch(0),console.log("PostReplyComments Error ".concat(n.t0));case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))).apply(this,arguments)}),["postReplyComments-".concat(e.id)],(function(){c("")})),p=s.mutate;return(0,St.jsxs)(_t,{children:[(0,St.jsx)(Kt,{value:i,onChange:function(n){c(n.target.value)}}),(0,St.jsxs)(Ut,{children:[(0,St.jsx)($t,{onClick:function(){return a(!1)},children:"\ucde8\uc18c"}),(0,St.jsx)(Dt,{onClick:function(){p()},children:"\uac8c\uc2dc"})]})]})},Ht=e(8767),Bt=function(n){var t,e,o,r,i=n.comment,c=(0,Ht.Z)(),a=(0,Ln.useState)(0),s=(0,In.Z)(a,2),p=s[0],d=s[1],l=(0,Ln.useState)(!1),u=(0,In.Z)(l,2),x=u[0],m=u[1],Z=(0,Fn.sJ)((0,Rt.Z)("replyComment".concat(i.id))),h=(0,Ln.useState)(!1),f=(0,In.Z)(h,2),g=f[0],v=f[1],y=(0,Sn.a)({queryKey:["postCommentLikeInfo".concat(i.id)],queryFn:function(){return(o=o||(0,zn.Z)((0,Cn.Z)().mark((function n(){var t;return(0,Cn.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Rn.Z.get("\n      /page/render-only-postcomment-likeinfo/".concat(i.id,"\n      "));case 3:return t=n.sent,n.abrupt("return",t);case 7:n.prev=7,n.t0=n.catch(0),console.error(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))).apply(this,arguments)}}),b=function(){m(!0),d((function(n){return n+1})),function(){(t=t||(0,zn.Z)((0,Cn.Z)().mark((function n(){return(0,Cn.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Rn.Z.post("/comment/post/like/".concat(i.id));case 3:n.next=8;break;case 5:n.prev=5,n.t0=n.catch(0),console.error(n.t0,"handleSubmitCommentLike - Error");case 8:case"end":return n.stop()}}),n,null,[[0,5]])})))).apply(this,arguments)}()},P=function(){m(!1),d((function(n){return n-1})),function(){(e=e||(0,zn.Z)((0,Cn.Z)().mark((function n(){return(0,Cn.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Rn.Z.post("/comment/post/unlike/".concat(i.id));case 3:n.next=8;break;case 5:n.prev=5,n.t0=n.catch(0),console.error(n.t0,"handleSubmitCommentUnlike - Error");case 8:case"end":return n.stop()}}),n,null,[[0,5]])})))).apply(this,arguments)}()};(0,Ln.useEffect)((function(){y.data&&(d(y.data.data.postCommentLikeCount.length),m(y.data.data.likeCheck))}),[y.data]);var k=(0,Sn.a)({queryKey:["postReplyComments-".concat(i.id)],queryFn:function(){return(r=r||(0,zn.Z)((0,Cn.Z)().mark((function n(){var t;return(0,Cn.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Rn.Z.get("/page/render-post-replycomment/".concat(i.id));case 3:return t=n.sent,n.abrupt("return",t);case 7:n.prev=7,n.t0=n.catch(0),console.error(n.t0,"getRostReplyComment - Error");case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))).apply(this,arguments)}}),j=k.data;return k.isLoading?(0,St.jsx)(Jt,{children:(0,St.jsx)(Vt.Z,{color:"#f7dd07",size:"30px"})}):(0,St.jsx)(tt,{children:(0,St.jsxs)(rt,{children:[(0,St.jsx)(it,{src:i.User.profileImg}),(0,St.jsxs)(ct,{children:[(0,St.jsxs)(at,{children:[(0,St.jsx)(st,{children:i.User.nickname}),(0,St.jsx)(dt,{children:x?(0,St.jsx)(ot,{onClick:function(){P()}}):(0,St.jsx)(et,{onClick:function(){b()}})})]}),(0,St.jsx)(pt,{children:i.content}),(0,St.jsx)(Ot,{myComment:!!c,comment:i,postCommentLikeCount:p}),Z&&(0,St.jsx)(Gt,{comment:i}),(null===j||void 0===j?void 0:j.data.length)>=1&&(0,St.jsxs)(Yn,{onClick:function(){return v(!g)},children:[(0,St.jsx)(Wn,{moreReplyOpen:g}),(0,St.jsx)(nt,{children:"\ub313\uae00"})]}),g&&(0,St.jsx)(St.Fragment,{children:j.data.map((function(n){return(0,St.jsx)(qt,{replyComment:n,commentId:i.id})}))})]})]})})},Jt=En.ZP.div(wn||(wn=(0,qn.Z)(["\n  width: 100%;\n  height: 90px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),Xt=function(n){var t,e=n.postId,o=(0,Ht.Z)(),r=(0,Ln.useState)(""),i=(0,In.Z)(r,2),c=i[0],a=i[1],s=(0,Ft.Z)((function(){return(t=t||(0,zn.Z)((0,Cn.Z)().mark((function n(){return(0,Cn.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Rn.Z.post("/comment/post",{content:c,PostId:e});case 2:case"end":return n.stop()}}),n)})))).apply(this,arguments)}),["postComments-".concat(e)],(function(){a("")})),p=s.mutate;return(0,St.jsxs)(Un,{children:[(0,St.jsx)($n,{value:c,readOnly:!o.loginCheck,onChange:function(n){return a(n.target.value)},placeholder:o.loginCheck?"\ub313\uae00\uc744 \uc785\ub825\ud574 \uc8fc\uc138\uc694":"\ub85c\uadf8\uc778 \ud6c4 \ub313\uae00 \uc774\uc6a9\uc774 \uac00\ub2a5\ud569\ub2c8\ub2e4."}),(0,St.jsx)(Dn,{comment:c,onClick:function(){c&&p()},children:"\uac8c\uc2dc"})]})},At=function(n){var t,e=n.postId,o=(0,Fn.FV)((0,Rt.Z)("commentModalOpen".concat(e))),r=(0,In.Z)(o,2),i=r[0],c=r[1],a=(0,Sn.a)({queryKey:["postComments-".concat(e)],queryFn:function(){return(t=t||(0,zn.Z)((0,Cn.Z)().mark((function n(){var t;return(0,Cn.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Rn.Z.get("/page/render-post-comment/".concat(e));case 3:return t=n.sent,n.abrupt("return",t);case 7:n.prev=7,n.t0=n.catch(0),console.error(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))).apply(this,arguments)}}),s=a.data;return(0,St.jsx)(St.Fragment,{children:(0,St.jsxs)(Vn,{click:i,children:[(0,St.jsxs)(_n,{children:[(0,St.jsx)(Kn,{children:"\ub313\uae00"}),(0,St.jsx)(On,{onClick:function(){c(!1)},children:"X"})]}),(0,St.jsx)(Tn,{children:null===s||void 0===s?void 0:s.data.map((function(n){return(0,St.jsx)(Bt,{comment:n})}))}),(0,St.jsx)(Xt,{postId:e})]})})}}}]);
//# sourceMappingURL=345.b6d89f06.chunk.js.map