"use strict";(self.webpackChunkprototype_client=self.webpackChunkprototype_client||[]).push([[830],{7830:function(n,e,t){t.r(e),t.d(e,{default:function(){return jn}});var r,i,o,s,a,p,c,l,d,u,x,h,f,Z,g,b,m,v,j,y,k,w,P,C,I,z,F,D,V,W=t(4165),N=t(5861),R=t(9439),S=t(2791),U=t(1243),K=t(9422),M=t(168),q=t(5867),L=q.ZP.div(r||(r=(0,M.Z)(["\n  display: flex;\n  justify-content: center;\n  width: 100%;\n  height: 250px;\n  margin-top: 60px;\n"]))),Q=q.ZP.div(i||(i=(0,M.Z)(["\n  width: 200px;\n  height: 70px;\n"]))),O=q.ZP.input(o||(o=(0,M.Z)(["\n  width: 100%;\n  height: 50px;\n  padding: 5px 10px 5px 10px;\n  border: none;\n  border-top: 1px solid #bbbbbb;\n  border-bottom: 1px solid #bbbbbb;\n  font-size: 18px;\n"]))),_=q.ZP.div(s||(s=(0,M.Z)(["\n  position: fixed;\n  z-index: 17;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  align-items: flex-start;\n  justify-content: center;\n"]))),T=q.ZP.div(a||(a=(0,M.Z)(["\n  display: flex;\n  flex-direction: column;\n  z-index: 20;\n  width: 500px;\n  height: 100%;\n  overflow-y: auto;\n  background-color: white;\n  border-radius: 10px;\n  opacity: 1;\n"]))),A=(q.ZP.div(p||(p=(0,M.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 50%;\n  height: 100%;\n"]))),q.ZP.div(c||(c=(0,M.Z)([""]))),q.ZP.form(l||(l=(0,M.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 300px;\n  height: 100px;\n"]))),q.ZP.label(d||(d=(0,M.Z)(["\n  font-size: 15px;\n  font-weight: 600;\n  height: 45px;\n  line-height: 45px;\n  padding-left: 15px;\n  padding-right: 15px;\n  color: black;\n  border-radius: 10px;\n  border: 1px solid black;\n  &:hover {\n    background-color: #f1f4f7;\n  }\n  cursor: pointer;\n"]))),q.ZP.input(u||(u=(0,M.Z)([""]))),q.ZP.img(x||(x=(0,M.Z)([""]))),q.ZP.div(h||(h=(0,M.Z)(["\n  border-bottom: 1px solid #bbbbbb;\n  width: 100%;\n  height: auto;\n"])))),B=q.ZP.textarea(f||(f=(0,M.Z)(["\n  width: 100%;\n  height: 200px;\n  border: none;\n  line-height: 1.3;\n  padding: 15px 10px 10px 10px;\n  font-size: 18px;\n  outline: none;\n  resize: none;\n"]))),E=q.ZP.form(Z||(Z=(0,M.Z)(["\n  margin-top: 40px;\n  display: flex;\n  justify-content: space-around;\n"]))),G=q.ZP.button(g||(g=(0,M.Z)(["\n  background-color: #f8f9fa;\n  padding: 10px 20px 10px 20px;\n  font-size: 15px;\n  border-radius: 7px;\n"]))),H=(0,q.ZP)(G)(b||(b=(0,M.Z)(["\n  color: black;\n"]))),J=(0,q.ZP)(G)(m||(m=(0,M.Z)(["\n  color: #ed203d;\n"]))),X=t(1213),Y=q.ZP.div(v||(v=(0,M.Z)(["\n  width: 100%;\n  height: 600px;\n"]))),$=q.ZP.div(j||(j=(0,M.Z)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  height: 600px;\n  cursor: pointer;\n  border-top: 1px solid #ededed;\n"]))),nn=q.ZP.img(y||(y=(0,M.Z)(["\n  position: relative;\n  z-index: 2;\n  width: 500px;\n  height: 500px;\n  object-fit: cover;\n  border: none;\n"]))),en=q.ZP.div(k||(k=(0,M.Z)([""]))),tn=q.ZP.span(w||(w=(0,M.Z)(["\n  font-size: 20px;\n"]))),rn=(0,q.ZP)(X.ySC)(P||(P=(0,M.Z)(["\n  padding: 5px;\n  position: absolute;\n  border-radius: 50%;\n  color: white;\n  background-color: #ed203d;\n  top: 10px;\n  right: 10px;\n  opacity: 0.5;\n  &:hover {\n    background-color: #ed203d;\n    opacity: 1;\n  }\n  font-size: 40px;\n  z-index: 3;\n"]))),on=q.ZP.div(C||(C=(0,M.Z)(["\n  position: relative;\n"]))),sn=(q.ZP.div(I||(I=(0,M.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 50%;\n  height: 100%;\n"]))),q.ZP.div(z||(z=(0,M.Z)([""]))),q.ZP.form(F||(F=(0,M.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 300px;\n  height: 100px;\n"])))),an=q.ZP.label(D||(D=(0,M.Z)(["\n  font-size: 15px;\n  font-weight: 600;\n  height: 45px;\n  line-height: 45px;\n  padding-left: 15px;\n  padding-right: 15px;\n  color: black;\n  border-radius: 10px;\n  border: 1px solid black;\n  &:hover {\n    background-color: #f1f4f7;\n  }\n  cursor: pointer;\n"]))),pn=q.ZP.input(V||(V=(0,M.Z)([""]))),cn=t(4693),ln=t(184);var dn=function(){var n,e,t,r=(0,K.FV)((0,cn.Z)("postImgUrl")),i=(0,R.Z)(r,2),o=i[0],s=i[1],a=(0,K.FV)((0,cn.Z)("postImgOriginalUrl")),p=(0,R.Z)(a,2),c=p[0],l=p[1],d=new FormData,u=function(e){return(n=n||(0,N.Z)((0,W.Z)().mark((function n(e){var t;return(0,W.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,U.Z.post("/post/img",e);case 3:return t=n.sent,console.log(t,"imgDataResponse"),n.abrupt("return",t);case 8:n.prev=8,n.t0=n.catch(0),console.error(n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})))).apply(this,arguments)};return(0,ln.jsx)(Y,{children:(0,ln.jsx)($,{onDragOver:function(n){n.preventDefault()},onDrop:function(n){return(t=t||(0,N.Z)((0,W.Z)().mark((function n(e){var t,r;return(0,W.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),!(t=e.dataTransfer.files[0])||!t.type.startsWith("image/")){n.next=9;break}return d.append("img",t),n.next=6,u(d);case 6:r=n.sent,l(r.data.originalUrl),s(r.data.url);case 9:case"end":return n.stop()}}),n)})))).apply(this,arguments)},children:o?(0,ln.jsxs)(on,{children:[(0,ln.jsx)(nn,{src:c,alt:"Dropped"}),(0,ln.jsx)(rn,{onClick:function(){l(null)}})]}):(0,ln.jsxs)(en,{children:[(0,ln.jsx)(tn,{children:"\uc774\ubbf8\uc9c0\ub97c \ub4dc\ub798\uadf8\ud558\uc5ec \uc5c5\ub85c\ub4dc\ud558\uc138\uc694"}),(0,ln.jsxs)(sn,{children:[(0,ln.jsx)(an,{htmlFor:"postImg",children:"\uc0ac\uc9c4 \uc120\ud0dd\ud558\uae30"}),(0,ln.jsx)(pn,{id:"postImg",type:"file",accept:"image/*",hidden:!0,onChange:function(n){return(e=e||(0,N.Z)((0,W.Z)().mark((function n(e){var t,r;return(0,W.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),!(t=e.target.files[0])||!t.type.startsWith("image/")){n.next=9;break}return d.append("img",t),n.next=6,u(d);case 6:r=n.sent,l(r.data.originalUrl),s(r.data.url);case 9:case"end":return n.stop()}}),n)})))).apply(this,arguments)}})]})]})})})},un=t(7699),xn=t(8499),hn=function(){return(0,ln.jsxs)(un.Wx,{height:"210px",children:[(0,ln.jsxs)(un.dt,{children:[(0,ln.jsx)(un.RM,{children:"\uc88b\uc544\uc694 \uc218 \uae30\ub2a5 \ud574\uc81c"}),(0,ln.jsx)(xn.Z,{inputId:"likeCount",atomName:"postLike"})]}),(0,ln.jsxs)(un.dt,{children:[(0,ln.jsx)(un.RM,{children:"\ub313\uae00 \uae30\ub2a5 \ud574\uc81c"}),(0,ln.jsx)(xn.Z,{inputId:"Comments",atomName:"postCommentForbid"})]}),(0,ln.jsxs)(un.dt,{children:[(0,ln.jsx)(un.RM,{children:" \ub0b4\uc6a9 \uc791\uc131 \uc548\ud568 "}),(0,ln.jsx)(xn.Z,{inputId:"hits",atomName:"postContent"})]})]})},fn=t(9247),Zn=t(7810),gn=t(3713),bn=t(8556),mn=t(838),vn=t(5927),jn=function(){var n,e,t=(0,K.Zl)((0,fn.Z)("makePostModal")),r=(0,K.FV)((0,cn.Z)("postImgUrl")),i=(0,R.Z)(r,2),o=i[0],s=i[1];console.log(o,"?>?>?>?>?><><><>?<?<?<?<");var a=(0,S.useRef)(),p=(0,S.useState)(null),c=(0,R.Z)(p,2),l=c[0],d=c[1],u=(0,S.useState)(null),x=(0,R.Z)(u,2),h=x[0],f=x[1],Z=(0,K.FV)((0,Zn.Z)("postLike")),g=(0,R.Z)(Z,2),b=g[0],m=g[1],v=(0,K.FV)((0,Zn.Z)("postCommentForbid")),j=(0,R.Z)(v,2),y=j[0],k=j[1],w=(0,K.FV)((0,Zn.Z)("postContent")),P=(0,R.Z)(w,2),C=P[0],I=P[1],z=(0,mn.K)(),F=function(){return(n=n||(0,N.Z)((0,W.Z)().mark((function n(){var e;return(0,W.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,U.Z.post("/post",{url:o,content:l,title:h,likeControl:!b,commentControl:!y,contentControl:!C,likeCount:0,commentCount:0});case 3:return e=n.sent,n.abrupt("return",e);case 7:n.prev=7,n.t0=n.catch(0),console.error(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))).apply(this,arguments)},D=(0,gn.NL)(),V=(0,bn.D)({mutationFn:function(){return(e=e||(0,N.Z)((0,W.Z)().mark((function n(){var e;return(0,W.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o){n.next=2;break}return n.abrupt("return");case 2:return n.prev=2,n.next=5,F();case 5:return e=n.sent,t(!1),k(!1),I(!1),m(!1),s(!1),n.abrupt("return",e);case 11:n.prev=11,n.t0=n.catch(2),console.error(n.t0);case 14:case"end":return n.stop()}}),n,null,[[2,11]])})))).apply(this,arguments)},onSuccess:function(n){D.invalidateQueries({queryKey:["postContentsInfo"]}),D.invalidateQueries({queryKey:["posts"]}),D.invalidateQueries({queryKey:["userInfo"]})}}),M=V.mutate;return(0,ln.jsx)(_,{ref:a,onClick:function(n){n.target===a.current&&t(!1)},children:(0,ln.jsxs)(T,{children:[(0,ln.jsx)(vn.Z,{pfI:{width:"50px",height:"50px",basic:"50px"},pfIW:{},pfW:{margin:{t:"20",b:"20"},padding:{t:"10",l:"10",r:"10",b:"10"},justifyC:"flex-start"},pfN:{fontS:"16px",fontW:"600"},pfInfo:z}),(0,ln.jsx)(dn,{}),(0,ln.jsx)("div",{children:(0,ln.jsx)(O,{placeholder:"\uc81c\ubaa9\uc744 \uc785\ub825\ud558\uc138\uc694",value:h,onChange:function(n){f(n.target.value)}})}),!C&&(0,ln.jsx)(A,{children:(0,ln.jsx)(B,{placeholder:"\ub0b4\uc6a9\uc744 \uc785\ub825\ud558\uc138\uc694!",value:l,onChange:function(n){d(n.target.value)}})}),(0,ln.jsx)(L,{children:(0,ln.jsx)(hn,{})}),(0,ln.jsxs)(E,{children:[(0,ln.jsx)(H,{onClick:function(n){n.preventDefault(),M()},children:"\uac8c\uc2dc\ud558\uae30"}),(0,ln.jsx)(J,{onClick:function(){t(!1)},children:"\uc0ad\uc81c\ud558\uae30"})]}),(0,ln.jsx)("div",{children:(0,ln.jsx)(Q,{})})]})})}}}]);
//# sourceMappingURL=830.a9ec4654.chunk.js.map