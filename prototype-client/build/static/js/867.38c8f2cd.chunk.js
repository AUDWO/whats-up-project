"use strict";(self.webpackChunkprototype_client=self.webpackChunkprototype_client||[]).push([[867],{8867:function(n,e,t){t.r(e),t.d(e,{default:function(){return cn}});var r,o,i,c,l,s,a,d,u,h,x,p,f,g,Z,m,j,b,k,y=t(4165),v=t(5861),C=t(9439),P=t(2791),w=t(1243),F=t(9422),O=t(168),D=t(5867),N=t(6856),S=D.ZP.div(r||(r=(0,O.Z)(["\n      position:fixed;\n      z-index: 17;\n      width: 100vw;\n      height: 100vh;\n      background-color: rgba(0, 0, 0, 0.5);\n      display: flex;\n      align-items: center;\n      justify-content: center;\n    }\n    \n    "]))),I=D.ZP.div(o||(o=(0,O.Z)(["\n  display: flex;\n  flex-direction: column;\n  position: absolute;\n  z-index: 20;\n  width: 500px;\n  height: auto;\n  background-color: white;\n  border-radius: 10px;\n  opacity: 1;\n"]))),T=D.ZP.div(i||(i=(0,O.Z)(["\n  width: 100%;\n  height: auto;\n  border: 0.5px solid gray;\n  color: gray;\n  align-items: center;\n  padding: 10px;\n"]))),z=D.ZP.div(c||(c=(0,O.Z)(["\n  display: flex;\n  align-items: center;\n\n  color: ",";\n  height: 40px;\n"])),(function(n){return n.color?n.color:""})),L=D.ZP.div(l||(l=(0,O.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n"]))),E=((0,D.ZP)(N.x3N)(s||(s=(0,O.Z)(["\n  font-size: 30px;\n  cursor: pointer;\n"]))),(0,D.ZP)(N.DJ5)(a||(a=(0,O.Z)(["\n  font-size: 30px;\n  cursor: pointer;\n"]))),D.ZP.div(d||(d=(0,O.Z)(["\n  color: ",";\n"])),(function(n){return n.color}))),M=D.ZP.div(u||(u=(0,O.Z)(["\n  height: auto;\n  display: flex;\n  align-items: center;\n  margin-top: 30px;\n"]))),q=D.ZP.label(h||(h=(0,O.Z)(["\n  width: 60px;\n  height: 30px;\n  display: block;\n  position: relative;\n  border-radius: 30px;\n  background-color: #dbdbdb;\n  cursor: pointer;\n  transition: all 0.2s ease-in;\n  margin-left: 10px;\n  margin-right: 10px;\n"]))),K=D.ZP.span(x||(x=(0,O.Z)(["\n  width: 24px;\n  height: 24px;\n  position: absolute;\n  top: 50%;\n  left: 4px;\n  transform: translateY(-50%);\n  border-radius: 50%;\n  background: white;\n  transition: all 0.2s ease-in;\n"]))),Q=D.ZP.input(p||(p=(0,O.Z)(["\n  &:checked + "," {\n    background: #f7dd07;\n    "," {\n      left: calc(100% - 28px);\n    }\n  }\n"])),q,K),B=D.ZP.div(f||(f=(0,O.Z)(["\n  ",";\n"])),(function(n){return R(n)})),R=function(n){var e="";for(var t in n)V[t]&&(e+="\n            ".concat(V[t]," : ").concat(n[t],"px\n            "));return e},V={marginL:"margin-left",marginR:"margin-right",marginB:"margin-bottom",marginT:"margin-top"},J=D.ZP.div(g||(g=(0,O.Z)(["\n  width: 100%;\n  height: auto;\n  margin-top: 10px;\n  border-top: 0.5px solid gray;\n"]))),U=(D.ZP.input(Z||(Z=(0,O.Z)(["\n  color: black;\n  border: none;\n  border-bottom: 1px solid gray;\n  background-color: #ffffff;\n  font-size: 15px;\n  margin-top: 15px;\n  padding-bottom: 5px;\n"]))),D.ZP.textarea(m||(m=(0,O.Z)(["\n  border: none;\n  border-top: 1px solid gray;\n  border-bottom: 1px solid gray;\n  resize: none;\n  outline: none;\n  margin-top: 15px;\n  height: 80px;\n  padding: 10px 0px;\n  padding-left: 3px;\n"])))),_=D.ZP.div(j||(j=(0,O.Z)(["\n  height: ",";\n  padding:10px;\n   0px;\n  ",";\n  display:flex;\n  flex-direction:",";\n"])),(function(n){return n.height?n.height:""}),(function(n){return R(n)}),(function(n){return n.flexD?n.flexD:""})),Y=D.ZP.div(b||(b=(0,O.Z)(["\n  height: 45px;\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  padding-right: 10px;\n"]))),A=D.ZP.span(k||(k=(0,O.Z)(["\n  border-radius: 10px;\n  background-color: #f7dd07;\n  color: white;\n  padding: 5px 10px 5px 10px;\n  cursor: pointer;\n"]))),G=t(8795),H=t(9247),W=(0,F.xu)({key:"stateUpdate",default:!1}),X=t(3713),$=t(8556),nn=t(184),en=function(n){var e,t=n.contentInfo,r=(0,P.useState)(t.title),o=(0,C.Z)(r,2),i=o[0],c=o[1],l=(0,P.useState)(t.content),s=(0,C.Z)(l,2),a=s[0],d=s[1],u=(0,P.useState)(t.likeControl),h=(0,C.Z)(u,2),x=h[0],p=h[1],f=(0,P.useState)(t.commentControl),g=(0,C.Z)(f,2),Z=g[0],m=g[1],j=(0,F.Zl)((0,H.Z)("profileContentConfigModal")),b=(0,X.NL)(),k=(0,$.D)({mutationFn:function(){return(e=e||(0,v.Z)((0,y.Z)().mark((function n(){var e,r;return(0,y.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,!a){n.next=6;break}return n.next=4,w.Z.patch("/update/post-info/".concat(t.id),{title:i,content:a,likeControl:x,commentControl:Z,contentControl:!0});case 4:return e=n.sent,n.abrupt("return",e);case 6:if(a){n.next=11;break}return n.next=9,w.Z.patch("/update/post-info/".concat(t.id),{title:i,content:a,likeControl:x,commentControl:Z});case 9:return r=n.sent,n.abrupt("return",r);case 11:n.next=16;break;case 13:n.prev=13,n.t0=n.catch(0),console.error(n.t0);case 16:case"end":return n.stop()}}),n,null,[[0,13]])})))).apply(this,arguments)},onSuccess:function(n){b.invalidateQueries({queryKey:["posts"]}),b.invalidateQueries({queryKey:["postContentsInfo"]}),j(!1)}}),O=k.mutate;return(0,nn.jsxs)(J,{children:[(0,nn.jsxs)(_,{height:"auto",flexD:"column",children:[(0,nn.jsx)(B,{marginT:"15",children:"\uc81c\ubaa9"}),(0,nn.jsx)(G.I,{value:i,onChange:function(n){c(n.target.value)},fontSize:"15px",marginT:"15",paddingB:"5",backC:"#ffffff",borderB:{borderPx:"1px",color:"gray"}})]}),(0,nn.jsxs)(_,{height:"auto",flexD:"column",children:[(0,nn.jsx)(B,{marginT:"15",children:"\ub0b4\uc6a9"}),(0,nn.jsx)(U,{value:a,onChange:function(n){d(n.target.value)}})]}),(0,nn.jsxs)(_,{height:"auto",flexD:"column",children:[(0,nn.jsx)(B,{marginT:"10",children:"\ub313\uae00 \uae30\ub2a5"}),(0,nn.jsxs)(M,{children:[(0,nn.jsx)(E,{children:"OFF"}),(0,nn.jsx)(Q,{id:"toggleComment",type:"checkbox",hidden:!0,checked:Z,onChange:function(){return m(!Z)}}),(0,nn.jsx)(q,{htmlFor:"toggleComment",children:(0,nn.jsx)(K,{})}),Z?(0,nn.jsx)(E,{color:"#f7dd07",children:"ON"}):(0,nn.jsx)(E,{children:"ON"})," "]})]}),(0,nn.jsxs)(_,{height:"auto",flexD:"column",children:[(0,nn.jsx)(B,{marginT:"15",children:"\uc88b\uc544\uc694 \uae30\ub2a5"}),(0,nn.jsxs)(M,{children:[(0,nn.jsx)(E,{children:"OFF"}),(0,nn.jsx)(Q,{id:"toggleLike",type:"checkbox",hidden:!0,checked:x,onChange:function(){return p(!x)}}),(0,nn.jsx)(q,{htmlFor:"toggleLike",children:(0,nn.jsx)(K,{})}),x?(0,nn.jsx)(E,{color:"#f7dd07",children:"ON"}):(0,nn.jsx)(E,{children:"ON"})," "]})]}),(0,nn.jsx)(Y,{children:(0,nn.jsx)(A,{onClick:function(){O()},children:"\uc800\uc7a5\ud558\uae30"})})]})},tn=t(7810),rn=function(n){var e,t=n.contentInfo,r=(0,P.useState)(t.publicControl),o=(0,C.Z)(r,2),i=o[0],c=o[1],l=(0,P.useState)(t.likeControl),s=(0,C.Z)(l,2),a=s[0],d=s[1],u=(0,P.useState)(t.commentControl),h=(0,C.Z)(u,2),x=h[0],p=h[1],f=(0,F.Zl)((0,H.Z)("profileContentConfigModal")),g=(0,F.FV)((0,tn.Z)("diaryContentsOpen")),Z=(0,F.FV)(W("contentUpdate")),m=(0,C.Z)(Z,2),j=m[0],b=m[1];return(0,nn.jsxs)(J,{children:[(0,nn.jsxs)(_,{height:"auto",flexD:"column",children:[(0,nn.jsx)(B,{marginT:"15",children:"\uacf5\uac1c \uc5ec\ubd80"}),(0,nn.jsxs)(M,{children:[(0,nn.jsx)(E,{children:"OFF"}),(0,nn.jsx)(Q,{id:"togglePublic",type:"checkbox",hidden:!0,checked:i,onChange:function(){return c(!i)}}),(0,nn.jsx)(q,{htmlFor:"togglePublic",children:(0,nn.jsx)(K,{})}),i?(0,nn.jsx)(E,{color:"#f7dd07",children:"ON"}):(0,nn.jsx)(E,{children:"ON"})," "]})]}),i&&(0,nn.jsxs)(nn.Fragment,{children:[(0,nn.jsxs)(_,{height:"auto",flexD:"column",children:[(0,nn.jsx)(B,{marginT:"10",children:"\ub313\uae00 \uae30\ub2a5"}),(0,nn.jsxs)(M,{children:[(0,nn.jsx)(E,{children:"OFF"}),(0,nn.jsx)(Q,{id:"toggleComment",type:"checkbox",hidden:!0,checked:x,onChange:function(){return p(!x)}}),(0,nn.jsx)(q,{htmlFor:"toggleComment",children:(0,nn.jsx)(K,{})}),x?(0,nn.jsx)(E,{color:"#f7dd07",children:"ON"}):(0,nn.jsx)(E,{children:"ON"})]})]}),(0,nn.jsxs)(_,{height:"auto",flexD:"column",children:[(0,nn.jsx)(B,{marginT:"15",children:"\uc88b\uc544\uc694 \uae30\ub2a5"}),(0,nn.jsxs)(M,{children:[(0,nn.jsx)(E,{children:"OFF"}),(0,nn.jsx)(Q,{id:"toggleLike",type:"checkbox",hidden:!0,checked:a,onChange:function(){return d(!a)}}),(0,nn.jsx)(q,{htmlFor:"toggleLike",children:(0,nn.jsx)(K,{})}),a?(0,nn.jsx)(E,{color:"#f7dd07",children:"ON"}):(0,nn.jsx)(E,{children:"ON"})]})]})]}),(0,nn.jsx)(Y,{children:(0,nn.jsx)(A,{onClick:function(){!function(){(e=e||(0,v.Z)((0,y.Z)().mark((function n(){return(0,y.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,w.Z.patch("/update/diary-info/".concat(t.id),{publicControl:i,likeControl:a,commentControl:x});case 3:n.sent,f(!1),b(!j),g(!0),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),console.error(n.t0);case 12:case"end":return n.stop()}}),n,null,[[0,9]])})))).apply(this,arguments)}()},children:"\uc800\uc7a5\ud558\uae30"})})]})},on=t(1010),cn=function(){var n,e,t,r=(0,P.useRef)(),o=(0,F.Zl)((0,H.Z)("profileContentConfigModal")),i=(0,P.useState)(!1),c=(0,C.Z)(i,2),l=c[0],s=c[1],a=(0,P.useState)(!1),d=(0,C.Z)(a,2),u=d[0],h=d[1],x=(0,F.sJ)(on.Z);(0,P.useEffect)((function(){"diary"===x.type&&s(!0),"post"===x.type&&h(!0)}),[]);var p=(0,X.NL)(),f=(0,$.D)({mutationFn:function(){return(n=n||(0,v.Z)((0,y.Z)().mark((function n(){var e;return(0,y.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,w.Z.delete("/delete/post/".concat(x.id));case 3:return e=n.sent,console.log(e,"deletePostResponse-1-1-01--010-10-1"),n.abrupt("return",e);case 8:n.prev=8,n.t0=n.catch(0),console.error(n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})))).apply(this,arguments)},onSuccess:function(n){p.invalidateQueries({queryKey:["postContentsInfo"]}),o(!1)},onError:function(n){console.log("onErro postMutate",n)}}),g=f.mutate,Z=(0,$.D)({mutationFn:function(){return(e=e||(0,v.Z)((0,y.Z)().mark((function n(){return(0,y.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,w.Z.delete("/delete/diary/".concat(x.id));case 3:return n.abrupt("return",n.sent);case 6:n.prev=6,n.t0=n.catch(0),console.error(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))).apply(this,arguments)},onSuccess:function(n){p.invalidateQueries({queryKey:["diaryContentsInfo"]}),o(!1)},onError:function(n){console.log("onErrorData diaryMutate",n)}}),m=Z.mutate;if(l||u)return(0,nn.jsx)(S,{ref:r,onClick:function(n){n.target===r.current&&o(!1)},children:(0,nn.jsxs)(I,{children:[(0,nn.jsxs)(T,{children:[(0,nn.jsx)(L,{children:(0,nn.jsxs)(z,{children:[l&&"\uc77c\uae30 \uc815\ubcf4 \ubcc0\uacbd",u&&"\uac8c\uc2dc\ubb3c \uc815\ubcf4 \ubcc0\uacbd"]})}),l&&(0,nn.jsx)(rn,{contentInfo:x}),u&&(0,nn.jsx)(en,{contentInfo:x})]}),(0,nn.jsx)(T,{children:(0,nn.jsx)(L,{children:(0,nn.jsxs)(z,{color:"red",onClick:function(){!function(){(t=t||(0,v.Z)((0,y.Z)().mark((function n(){return(0,y.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:console.log("handleDelete");try{l&&m(),u&&g()}catch(e){console.error("Error during deletion:",e)}case 2:case"end":return n.stop()}}),n)})))).apply(this,arguments)}()},children:[l&&"\uc77c\uae30 \uc0ad\uc81c",u&&"\uac8c\uc2dc\ubb3c \uc0ad\uc81c"]})})}),(0,nn.jsx)(T,{children:(0,nn.jsx)(L,{onClick:function(){o(!1)},children:(0,nn.jsx)(z,{children:"\ub2eb\uae30"})})})]})})}},7810:function(n,e,t){var r=(0,t(9422).xu)({key:"toggleValue",default:!1});e.Z=r},1010:function(n,e,t){var r=(0,t(9422).cn)({key:"contentInfo",default:{}});e.Z=r}}]);
//# sourceMappingURL=867.38c8f2cd.chunk.js.map