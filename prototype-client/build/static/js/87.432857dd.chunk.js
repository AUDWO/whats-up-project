"use strict";(self.webpackChunkprototype_client=self.webpackChunkprototype_client||[]).push([[87],{5927:function(n,t,e){e.d(t,{Z:function(){return j}});e(2791);var r,i,o,u,d,c=e(168),l=e(5867),a=e(7692),s={l:"margin-left",r:"margin-right",b:"margin-bottom",t:"margin-top"},p=function(n){var t="";for(var e in n)s[e]&&(t+="\n        ".concat(s[e]," : ").concat(n[e],"px;\n        "));return t},f={t:"padding-top",l:"padding-left",b:"padding-bottom",r:"padding-right"},x=function(n){var t="";for(var e in n)f[e]&&(t+="\n        ".concat(f[e]," : ").concat(n[e],"px;\n        "));return t},h=l.ZP.div(r||(r=(0,c.Z)(["\n  cursor: pointer;\n  position: ",";\n  z-index: ",";\n  width: ",";\n  left: ",";\n  top: ",";\n  display: flex;\n  align-items: center;\n  justify-content: ",";\n  flex-direction: ",";\n  ",";\n  ",";\n"])),(function(n){return n.p?n.p:""}),(function(n){return n.zI?n.zI:""}),(function(n){return n.width}),(function(n){return n.l?n.l:""}),(function(n){return n.t?n.t:""}),(function(n){return n.jC?n.jC:"space-between"}),(function(n){return n.fD?n.fD:""}),(function(n){return p(n.mg)}),(function(n){return x(n.pd)})),g=l.ZP.div(i||(i=(0,c.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  ",";\n  width: ",";\n  height: ",";\n  border-radius: 50%;\n  border: ",";\n"])),(function(n){return p(n.mg)}),(function(n){return n.w}),(function(n){return n.h}),(function(n){return"on"===n.b?"3px solid #f7dd07":""})),v=l.ZP.img(o||(o=(0,c.Z)(["\n  width: ",";\n  height: ",";\n  z-index: ",";\n  ",";\n  border-radius: 50%;\n  object-fit: cover;\n"])),(function(n){return n.w}),(function(n){return n.h}),(function(n){return n.zI?n.zI:""}),(function(n){return p(n.mg)})),Z=(0,l.ZP)(a.PhI)(u||(u=(0,c.Z)(["\n  font-size: ",";\n  z-index: ",";\n  ",";\n\n  border-radius: 50%;\n  color: black;\n  background-color: white;\n"])),(function(n){return n.fS}),(function(n){return n.zI?n.zI:""}),(function(n){return p(n.mg)})),m=l.ZP.div(d||(d=(0,c.Z)(["\n  display: flex;\n  align-items: center;\n  background-color: ",";\n  color: ",";\n  border-radius: ",";\n  font-size: ",";\n  font-weight:","\n  height: ",";\n  font-family:",";\n  ",";\n  ",";\n  \n"])),(function(n){return n.bC?n.bC:"none"}),(function(n){return n.c?n.c:"black"}),(function(n){return n.bR?n.bR:"none"}),(function(n){return n.fS?n.fS:""}),(function(n){return n.fW?n.fW:""}),(function(n){return n.h}),(function(n){return n.fF}),(function(n){return p(n.mg)}),(function(n){return x(n.pd)})),b=e(184),j=function(n){var t=n.pfW,e=n.pfIW,r=n.pfI,i=n.pfN,o=n.pfInfo;return(0,b.jsxs)(h,{p:null===t||void 0===t?void 0:t.position,l:null===t||void 0===t?void 0:t.left,t:null===t||void 0===t?void 0:t.top,fD:null===t||void 0===t?void 0:t.flexD,pd:null===t||void 0===t?void 0:t.padding,mg:null===t||void 0===t?void 0:t.margin,jC:null===t||void 0===t?void 0:t.justifyC,w:t.width,zI:null===t||void 0===t?void 0:t.zIndex,children:[(0,b.jsx)(g,{w:null===e||void 0===e?void 0:e.width,h:null===e||void 0===e?void 0:e.height,b:null===e||void 0===e?void 0:e.border,mg:null===e||void 0===e?void 0:e.margin,children:o.profileImg?(0,b.jsx)(v,{src:o.profileImg,w:null===r||void 0===r?void 0:r.width,h:null===r||void 0===r?void 0:r.height,zI:null===r||void 0===r?void 0:r.zIndex,mg:null===r||void 0===r?void 0:r.margin}):(0,b.jsx)(Z,{fS:r.basic,zI:null===r||void 0===r?void 0:r.zIndex,mg:null===r||void 0===r?void 0:r.margin})}),(0,b.jsx)(m,{bC:null===i||void 0===i?void 0:i.backC,c:null===i||void 0===i?void 0:i.color,bR:null===i||void 0===i?void 0:i.borderRadius,h:null===i||void 0===i?void 0:i.height,fW:null===i||void 0===i?void 0:i.fontW,fS:null===i||void 0===i?void 0:i.fontS,fF:null===i||void 0===i?void 0:i.fontF,pd:null===i||void 0===i?void 0:i.padding,children:o.nickname})]})}},2087:function(n,t,e){e.r(t),e.d(t,{default:function(){return Dn}});var r,i,o,u,d,c,l,a,s,p,f,x,h,g,v,Z,m,b,j,y,w,P,k,z,I,S,C,D,F,N=e(2791),W=e(9422),M=e(168),R=e(5867),U=R.ZP.div(r||(r=(0,M.Z)(["\n  position:fixed;\n  z-index: 17;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.5);\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n"]))),E=R.ZP.div(i||(i=(0,M.Z)(["\n  display: flex;\n  position: absolute;\n  z-index: 20;\n  width: 800px;\n  height: 500px;\n  background-color: white;\n  border-radius: 10px;\n  opacity: 1;\n"]))),V=e(4165),H=e(5861),_=e(9439),A=R.ZP.div(o||(o=(0,M.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 50%;\n  height: 100%;\n"]))),L=R.ZP.div(u||(u=(0,M.Z)([""]))),q=R.ZP.form(d||(d=(0,M.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 300px;\n  height: 100px;\n"]))),B=R.ZP.label(c||(c=(0,M.Z)(["\n  font-size: 15px;\n  font-weight: 600;\n  height: 45px;\n  line-height: 45px;\n  padding-left: 15px;\n  padding-right: 15px;\n  color: black;\n  border-radius: 10px;\n  border: 1px solid black;\n  &:hover {\n    background-color: #f1f4f7;\n  }\n  cursor: pointer;\n"]))),J=R.ZP.input(l||(l=(0,M.Z)([""]))),K=R.ZP.img(a||(a=(0,M.Z)(["\n  position: absolute;\n  z-index: 3;\n  object-fit: cover;\n  width: 400px;\n  height: 500px;\n"]))),O=(0,e(9386).J)().persistAtom,Q=(0,W.xu)({key:"postImg",default:null,effects_UNSTABLE:[O]}),T=e(1243),G=e(184),X=function(){var n,t,e=(0,W.FV)(Q("storyImgUrl")),r=(0,_.Z)(e,2),i=r[0],o=r[1],u=(0,W.FV)(Q("storyImgOriginalUrl")),d=(0,_.Z)(u,2),c=d[0],l=d[1],a=new FormData,s=function(t){return(n=n||(0,H.Z)((0,V.Z)().mark((function n(t){var e;return(0,V.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,T.Z.post("/post/storyimg",t);case 3:return e=n.sent,n.abrupt("return",e);case 7:n.prev=7,n.t0=n.catch(0),console.error(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))).apply(this,arguments)};return(0,G.jsxs)(A,{children:[(0,G.jsx)(L,{children:(0,G.jsxs)(q,{children:[(0,G.jsx)(B,{htmlFor:"storyImg",children:"\uc0ac\uc9c4 \uc120\ud0dd\ud558\uae30"}),(0,G.jsx)(J,{id:"storyImg",type:"file",accept:"image/*",hidden:!0,onChange:function(n){return(t=t||(0,H.Z)((0,V.Z)().mark((function n(t){var e,r;return(0,V.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.preventDefault(),!(e=t.target.files[0])||!e.type.startsWith("image/")){n.next=9;break}return a.append("img",e),n.next=6,s(a);case 6:r=n.sent,l(r.data.originalUrl),o(r.data.url);case 9:case"end":return n.stop()}}),n)})))).apply(this,arguments)}})]})}),i&&(0,G.jsx)(K,{src:c})]})},Y=R.ZP.div(s||(s=(0,M.Z)(["\n  width: 50%;\n  height: 100%;\n  border-left: 1px solid #dbdbdb;\n"]))),$=R.ZP.textarea(p||(p=(0,M.Z)(["\n  width: 100%;\n  height: 140px;\n  border: none;\n  line-height: 1.3;\n  padding: 10px 20px 10px 20px;\n  font-size: 16px;\n  outline: none;\n  resize: none;\n"]))),nn=R.ZP.div(f||(f=(0,M.Z)(["\n  margin-top: 20px;\n  display: flex;\n  justify-content: space-around;\n"]))),tn=R.ZP.div(x||(x=(0,M.Z)(["\n  background-color: #f8f9fa;\n  padding: 10px 20px 10px 20px;\n  font-size: 15px;\n  border-radius: 7px;\n  cursor: pointer;\n"]))),en=(0,R.ZP)(tn)(h||(h=(0,M.Z)(["\n  color: black;\n"]))),rn=(0,R.ZP)(tn)(g||(g=(0,M.Z)(["\n  color: #ed203d;\n"]))),on=e(9247),un=e(3713),dn=e(8556),cn=e(5927),ln=function(){var n=new Date,t=n.getHours(),e=n.getMinutes();return"".concat(String(t).padStart(2,"0"),":").concat(String(e).padStart(2,"0"))},an=function(n,t){var e=new Date,r=e.getHours(),i=e.getMinutes();return n||t?(r+=Number(n),(i+=Number(t))>59&&(r+=1,i-=60),r>23&&(r-=24)):i-=1,"".concat(String(r).padStart(2,"0"),":").concat(String(i).padStart(2,"0"))},sn=function(n,t,e){var r=new Date,i=r.getHours();return r.getMinutes()+t>59&&(i+=1),i+n>23||!n&&!t||"00:00"===e},pn=function(){var n=(0,N.useState)(0),t=(0,_.Z)(n,2),e=t[0],r=t[1],i=(0,N.useState)(0),o=(0,_.Z)(i,2),u=o[0],d=o[1],c=(0,N.useState)(ln()),l=(0,_.Z)(c,2),a=l[0],s=l[1],p=(0,N.useState)(an()),f=(0,_.Z)(p,2),x=f[0],h=f[1];return(0,N.useEffect)((function(){var n=setInterval((function(){s(ln()),h(an(Number(e),Number(u)))}),1e3);return function(){return clearInterval(n)}}),[e,u]),(0,G.jsxs)(fn,{children:[(0,G.jsxs)(xn,{children:[(0,G.jsx)(hn,{children:"\uc790\ub3d9 \uc0ad\uc81c \uc608\uc57d \uc124\uc815"}),(0,G.jsx)(gn,{children:"\ud604\uc7ac \uc2dc\uac01"}),(0,G.jsx)(vn,{children:a})]}),(0,G.jsxs)(yn,{children:[(0,G.jsxs)(Zn,{children:[(0,G.jsx)(bn,{value:e,onChange:function(n){n.target.value>23?alert("23\uc2dc\uac04 59\ubd84 \ub0b4\ub85c \uc124\uc815\ud574\uc8fc\uc138\uc694!"):r(n.target.value)}}),(0,G.jsx)(mn,{children:"\uc2dc"})]}),(0,G.jsxs)(Zn,{children:[(0,G.jsx)(jn,{value:u,onChange:function(n){n.target.value>59?alert("23\uc2dc\uac04 59\ubd84 \ub0b4\ub85c \uc124\uc815\ud574\uc8fc\uc138\uc694!"):d(n.target.value)}}),(0,G.jsx)(mn,{children:"\ubd84"})]}),(0,G.jsx)(wn,{children:"\ucd5c\ub300 \uc720\uc9c0 \uc2dc\uac04 23\uc2dc 59\ubd84"})]}),(0,G.jsx)(Pn,{children:"\uc124\uc815\uc744 \ud55c \uc2dc\uac04 \uacbd\uacfc\ud6c4\uc5d0 \uc790\ub3d9\uc73c\ub85c \uc2a4\ud1a0\ub9ac\ub294 \uc0ad\uc81c \ub429\ub2c8\ub2e4."}),(0,G.jsx)(Pn,{children:"\ub9cc\uc77c \uc2dc\uac04 \uc124\uc815\uc744 \ud558\uc9c0 \uc54a\ub294\ub2e4\uba74 23\uc2dc\uac04 59\ubd84 \ub4a4\uc5d0 \uc790\ub3d9 \uc0ad\uc81c\ub429\ub2c8\ub2e4."}),(0,G.jsxs)(kn,{children:[(0,G.jsx)(zn,{children:"\uc0ad\uc81c \uc608\uc0c1 \uc2dc\uac01"}),(0,G.jsx)(In,{children:sn(Number(e),Number(u),x)?"\ub0b4\uc77c":"\uc624\ub298"}),(0,G.jsx)(In,{children:x})]})]})},fn=R.ZP.div(v||(v=(0,M.Z)(["\n  width: 380px;\n  height: 180px;\n  border-top: 1px solid gray;\n  padding-top: 10px;\n"]))),xn=R.ZP.div(Z||(Z=(0,M.Z)(["\n  display: flex;\n  justify-content: center;\n  padding: 5px;\n"]))),hn=R.ZP.div(m||(m=(0,M.Z)(["\n  font-weight: 700;\n"]))),gn=R.ZP.div(b||(b=(0,M.Z)(["\n  margin-left: 10px;\n  margin-right: 10px;\n"]))),vn=R.ZP.div(j||(j=(0,M.Z)([""]))),Zn=R.ZP.div(y||(y=(0,M.Z)(["\n  margin-left: 25px;\n"]))),mn=R.ZP.span(w||(w=(0,M.Z)(["\n  margin-left: 5px;\n"]))),bn=R.ZP.input(P||(P=(0,M.Z)(["\n  width: 50px;\n  height: 25px;\n  font-size: 15px;\n"]))),jn=R.ZP.input(k||(k=(0,M.Z)(["\n  width: 50px;\n  height: 25px;\n  font-size: 15px;\n"]))),yn=R.ZP.div(z||(z=(0,M.Z)(["\n  display: flex;\n  align-items: center;\n  margin-bottom: 10px;\n"]))),wn=R.ZP.div(I||(I=(0,M.Z)(["\n  font-size: 15px;\n  color: gray;\n  margin-left: 10px;\n"]))),Pn=R.ZP.div(S||(S=(0,M.Z)(["\n  padding: 5px 5px 0px 12px;\n  font-size: 15px;\n"]))),kn=R.ZP.div(C||(C=(0,M.Z)(["\n  margin-top: 10px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 5px;\n"]))),zn=R.ZP.div(D||(D=(0,M.Z)(["\n  margin-right: 5px;\n"]))),In=R.ZP.div(F||(F=(0,M.Z)(["\n  margin-left: 5px;\n"]))),Sn=e(8767),Cn=function(){var n,t,e=(0,N.useState)(null),r=(0,_.Z)(e,2),i=r[0],o=r[1],u=(0,W.FV)((0,on.Z)("makeStoryModal")),d=(0,_.Z)(u,2),c=d[0],l=d[1],a=(0,W.FV)(Q("storyImgUrl")),s=(0,_.Z)(a,2),p=s[0],f=s[1],x=function(t,e){return(n=n||(0,H.Z)((0,V.Z)().mark((function n(t,e){var r;return(0,V.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,T.Z.post("/post/story",{content:t,url:e});case 3:return r=n.sent,n.abrupt("return",r);case 7:n.prev=7,n.t0=n.catch(0),console.error(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))).apply(this,arguments)},h=(0,un.NL)(),g=(0,dn.D)({mutationFn:function(){return(t=t||(0,H.Z)((0,V.Z)().mark((function n(){var t;return(0,V.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!p){n.next=11;break}return n.prev=1,n.next=4,x(i,p);case 4:return t=n.sent,n.abrupt("return",t);case 8:n.prev=8,n.t0=n.catch(1),console.error("\uac8c\uc2dc \uc911 \uc624\ub958 \ubc1c\uc0dd:",n.t0);case 11:case"end":return n.stop()}}),n,null,[[1,8]])})))).apply(this,arguments)},onSuccess:function(n){h.invalidateQueries({queryKey:["storyContents"]})},onError:function(n){console.log("onErrorData",n)}}),v=g.mutate,Z=(0,Sn.Z)();return(0,G.jsxs)(Y,{children:[(0,G.jsx)(cn.Z,{pfW:{justifyC:"flex-start",padding:{t:"20",l:"20",b:"20",r:"20"}},pfI:{width:"50px",height:"50px",margin:{r:"15"},basic:"50px"},pfN:{fontS:"16px",fontW:"600"},pfInfo:Z}),(0,G.jsx)($,{placeholder:"\ub0b4\uc6a9\uc744 \uc785\ub825\ud558\uc138\uc694!",value:i,onChange:function(n){o(n.target.value)}}),(0,G.jsx)(pn,{}),(0,G.jsxs)(nn,{children:[(0,G.jsx)(en,{onClick:function(){v(),l(!c),f(null)},children:"\uac8c\uc2dc\ud558\uae30"}),(0,G.jsx)(rn,{onClick:function(){l(!1),f(null)},children:"\uc0ad\uc81c\ud558\uae30"})]})]})},Dn=function(){var n=(0,W.Zl)((0,on.Z)("makeStoryModal")),t=(0,N.useRef)(null);return(0,G.jsx)(U,{ref:t,onClick:function(e){e.target===t.current&&n(!1)},children:(0,G.jsxs)(E,{children:[(0,G.jsx)(X,{}),(0,G.jsx)(Cn,{})]})})}}}]);
//# sourceMappingURL=87.432857dd.chunk.js.map